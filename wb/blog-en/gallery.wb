{"type":"div","on":{"init":"$window.scrollTo(0,0); // move scroll to top of the page"},"style":{"padding":"0px","margin":"0px","direction":"rtl","flexDirection":"column","display":"flex"},"version":"wb4","children":[{"style":{},"type":"style","children":[],"on":{},"version":"wb4","text":"body, h1, h2, h3, h4, h5, h6 {\n\tfont-family: Gandom, BKoodakBold, Roboto, \"Helvetica Neue\", sans-serif;\n}\n\nbody {\n    font-size: 15px;\n}\nh1, h2, h3, h4, h5, h6{\n    font-weight: bold;\n    line-height: 1.9;\n}\nh1{font-size:28px} \nh2{font-size:24px} \nh3{font-size:20px} \nh4{font-size:18px} \nh5{font-size:16px} \nh6{font-size:14px}\np {\n    font-size: 16px;\n    line-height: 1.9;\n}\nli {\n    font-size: 16px;\n    line-height: 1.8;\n}"},{"style":{},"type":"import","name":"Import","on":{},"version":"wb4","children":[],"url":"/api/v2/cms/contents/scripts/content#script-libs","id":"import-scripts"},{"style":{},"type":"import","name":"Import","on":{},"version":"wb4","children":[],"url":"/api/v2/cms/contents/blog-widgets/content#main-toolbar","id":"import-toolbar"},{"style":{"flexGrow":"1","maxWidth":"1400px","flexDirection":"column","width":"100%","alignSelf":"center","display":"flex"},"type":"div","name":"div","on":{"init":"var ttid = $routeParams['ttid'];\nvar gallery = $widget.getChildById('gallery');\nvar loadMoreLink = $widget.getChildById('div-load-more')\n                            .getChildById('load-more-link');\n\nvar url = ttid ? '/api/v2/cms/term-taxonomies/'+ttid+'/contents' : '/api/v2/cms/contents';\ngallery.setModelProperty('url', url + '?_px_ps=20'); // set page size as 20\n\nif($widget.state == 'ready'){\n    var index = $routeParams['_px_p'] ? Number($routeParams['_px_p']) : 1;\n    initCollectionUrl(index);\n    initLoadMoreLink(index + 1);\n    setMetadata()\n}\n\nfunction initCollectionUrl(pageNumber){\n    if(pageNumber > 1){\n        var url = gallery.getModelProperty('url');\n        var params = url.indexOf('?') >= 0 ? url.substring(url.indexOf('?') + 1) : '';\n        var url = url.indexOf('?') >= 0 ? url.substring(0,url.indexOf('?')) : url;\n        params = new URLSearchParams(params);\n        params.set('_px_p', pageNumber);\n        url = url + '?' + params.toString();\n        gallery.setProperty('url', url);\n    }\n}\n\nfunction initLoadMoreLink(pageNumber){\n    var params = $location.search();\n    params = new URLSearchParams(params);\n    params.set('_px_p', pageNumber);\n    url = $location.absUrl();\n    url = url.indexOf('?') >= 0 ? url.substring(0, url.indexOf('?')) : url;\n    var newUrl = url + '?' + params.toString();\n    loadMoreLink.setProperty('href', newUrl);\n}\n\nfunction setMetadata(){\n\tvar params = $window.location.search;\n\tvar canLink = params && params.length > 1 ? '/wb/blog/gallery'+params : '/wb/blog/gallery'; \n\t$window.setLink('canonical', {\n\t\t'rel': 'canonical',\n\t\t'href': canLink\n\t});\n}"},"version":"wb4","children":[{"style":{},"type":"style","children":[],"on":{},"version":"wb4","text":".card-columns {\n  @include media-breakpoint-only(md) {\n    column-count: 4;\n  }\n  @include media-breakpoint-only(lg) {\n    column-count: 5;\n  }\n}\n\n.card-columns{\n    -webkit-column-gap: 2px;\n    -moz-column-gap: 2px;\n    column-gap: 2px;\n}\n\n.gallery-card{\n    margin: 1px !important;\n}\n\n.card-img-overlay {\n    text-align: right;\n}\n\n.card-img-overlay p {\n    font-size: 14px;\n    line-height: 1.8;\n}\n"},{"style":{},"type":"ObjectCollection","name":"Object collection","on":{"success":"var data = $event.data;\nfunction initLoadMoreLink(pag){\n    if(pag.current_page >= pag.page_number){\n        $widget.getParent()\n            .getChildById('div-load-more')\n            .removeChildren();\n    }\n}\n\ninitLoadMoreLink(data);\nreturn data;"},"version":"wb4","id":"gallery","template":"{\n  \"style\": {\n    \"minHeight\": \"100px\"\n  },\n  \"type\": \"div\",\n  \"children\": [\n    {\n      \"style\": {\n        \"cursor\": \"pointer\"\n      },\n      \"type\": \"img\",\n      \"on\": {\n        \"click\": \"$widget.getParent() // car-card\\n    .getChildById('title')\\n    .getElement()\\n    .trigger('click');\",\n        \"intersection\": \"$widget.setProperty('src', '/api/v2/cms/contents/{{id}}/content');\"\n      },\n      \"version\": \"wb4\",\n      \"id\": \"image\",\n      \"class\": \"card-img-top\",\n      \"html\": \"\",\n      \"alt\": \"{{title}}\"\n    },\n    {\n      \"style\": {},\n      \"type\": \"div\",\n      \"children\": [\n        {\n          \"style\": {\n            \"fontSize\": \"32px\"\n          },\n          \"type\": \"a\",\n          \"html\": \"<i class=\\\"fa fa-info-circle\\\" aria-hidden=\\\"true\\\"></i>\",\n          \"on\": {},\n          \"version\": \"wb4\",\n          \"href\": \"/wb/blog/image?id={{id}}\",\n          \"class\": \"text-light\"\n        },\n        {\n          \"style\": {\n            \"display\": \"none\"\n          },\n          \"type\": \"div\",\n          \"children\": [\n            {\n              \"style\": {},\n              \"type\": \"a\",\n              \"class\": \"card-title\",\n              \"html\": \"<h5>{{title}}</h5>\",\n              \"href\": \"/wb/blog/image?id={{id}}\",\n              \"on\": {},\n              \"version\": \"wb4\"\n            },\n            {\n              \"style\": {},\n              \"type\": \"p\",\n              \"class\": \"card-text\",\n              \"html\": \"{{description}}\",\n              \"on\": {},\n              \"version\": \"wb4\"\n            }\n          ],\n          \"on\": {},\n          \"version\": \"wb4\",\n          \"id\": \"overlay-info\"\n        }\n      ],\n      \"on\": {},\n      \"version\": \"wb4\",\n      \"id\": \"body\",\n      \"class\": \"card-img-overlay\"\n    }\n  ],\n  \"on\": {\n    \"mouseover\": \"\\nvar body = $widget.getChildById('body');\\nvar info = body.getChildById('overlay-info');\\n\\nbody.setProperty('style.backgroundColor', 'rgba(41,46,49,0.8)');\\nbody.setProperty('style.color', 'white');\\ninfo.setProperty('style.display', 'block');\",\n    \"mouseout\": \"\\nvar body = $widget.getChildById('body');\\nvar info = body.getChildById('overlay-info');\\n\\nbody.setProperty('style.backgroundColor');\\nbody.setProperty('style.color');\\ninfo.setProperty('style.display', 'none');\"\n  },\n  \"version\": \"wb4\",\n  \"id\": \"image-card\",\n  \"class\": \"card gallery-card border-dark\"\n}","url":"/api/v2/cms/contents?_px_ps=20","children":[{"style":{"minHeight":"100px"},"type":"div","children":[{"style":{"cursor":"pointer"},"type":"img","on":{"click":"$widget.getParent() // car-card\n    .getChildById('title')\n    .getElement()\n    .trigger('click');","intersection":"$widget.setProperty('src', '/api/v2/cms/contents/{{id}}/content');"},"version":"wb4","id":"image","class":"card-img-top","html":"","alt":"{{title}}"},{"style":{},"type":"div","children":[{"style":{"fontSize":"32px"},"type":"a","html":"<i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i>","on":{},"version":"wb4","href":"/wb/blog/image?id={{id}}","class":"text-light"},{"style":{"display":"none"},"type":"div","children":[{"style":{},"type":"a","class":"card-title","html":"<h5>{{title}}</h5>","href":"/wb/blog/image?id={{id}}","on":{},"version":"wb4"},{"style":{},"type":"p","class":"card-text","html":"{{description}}","on":{},"version":"wb4"}],"on":{},"version":"wb4","id":"overlay-info"}],"on":{},"version":"wb4","id":"body","class":"card-img-overlay"}],"on":{"mouseover":"\nvar body = $widget.getChildById('body');\nvar info = body.getChildById('overlay-info');\n\nbody.setProperty('style.backgroundColor', 'rgba(41,46,49,0.8)');\nbody.setProperty('style.color', 'white');\ninfo.setProperty('style.display', 'block');","mouseout":"\nvar body = $widget.getChildById('body');\nvar info = body.getChildById('overlay-info');\n\nbody.setProperty('style.backgroundColor');\nbody.setProperty('style.color');\ninfo.setProperty('style.display', 'none');"},"version":"wb4","id":"image-card","class":"card gallery-card border-dark"}],"filters":[{"key":"media_type","value":"image"}],"sorts":[{"key":"id","order":"d"}],"class":"card-columns"},{"style":{"display":"flex","flexDirection":"column","padding":"2px","justifyContent":"center","width":"100%","alignItems":"center","paddingTop":"2px","paddingRight":"2px","paddingBottom":"2px","paddingLeft":"2px"},"type":"div","name":"div","on":{},"children":[],"id":"div-load-more","version":"wb4","class":"w3-margin-top"},{"style":{},"type":"div","name":"div","on":{"init":"// Hide template\n$widget.on('stateChanged', function(ev){\n    if(ev.value == 'edit'){\n        $widget.setProperty('style.display');\n    }else{\n        $widget.setProperty('style.display', 'none');\n    }\n});"},"version":"wb4","children":[{"style":{"cursor":"pointer"},"type":"div","name":"div","on":{},"version":"wb4","class":"col","children":[{"style":{"minHeight":"100px"},"type":"div","class":"card gallery-card border-dark","children":[{"style":{"cursor":"pointer"},"type":"img","class":"card-img-top","html":"","on":{"click":"$widget.getParent() // car-card\n    .getChildById('title')\n    .getElement()\n    .trigger('click');","intersection":"$widget.setProperty('src', '/api/v2/cms/contents/{{id}}/content');"},"version":"wb4","id":"image","alt":"{{title}}"},{"style":{},"type":"div","class":"card-img-overlay","children":[{"style":{"fontSize":"32px"},"type":"a","html":"<i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i>","on":{},"version":"wb4","href":"/wb/blog/image?id={{id}}","class":"text-light"},{"style":{"display":"none"},"type":"div","children":[{"style":{},"type":"h5","class":"card-title","html":"{{title}}","on":{},"version":"wb4"},{"style":{},"type":"p","class":"card-text","html":"{{description}}","on":{},"version":"wb4"}],"on":{},"version":"wb4","id":"overlay-info"}],"on":{},"version":"wb4","id":"body"}],"on":{"mouseover":"\nvar body = $widget.getChildById('body');\nvar info = body.getChildById('overlay-info');\n\nbody.setProperty('style.backgroundColor', 'rgba(41,46,49,0.8)');\nbody.setProperty('style.color', 'white');\ninfo.setProperty('style.display', 'block');","mouseout":"\nvar body = $widget.getChildById('body');\nvar info = body.getChildById('overlay-info');\n\nbody.setProperty('style.backgroundColor');\nbody.setProperty('style.color');\ninfo.setProperty('style.display', 'none');"},"version":"wb4","id":"image-card"}],"id":"image-card-template"}],"class":"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4","id":"template"}],"id":"main-section"},{"style":{},"type":"import","name":"Import","on":{},"version":"wb4","children":[],"url":"/api/v2/cms/contents/blog-widgets/content#main-footer","id":"import-footer"}],"modules":[{"title":"Bootstrap 4","url":"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css","type":"css","load":"lazy","state":"success"},{"title":"Font Awesome","home":"https://fontawesome.com","version":"4.7.0","description":"The most advanced icon font.","url":"//cdn.viraweb123.ir/api/v2/cdn/libs/Font-Awesome@4.7.0/css/font-awesome.min.css","logo":"https://fontawesome.com/images/favicons/favicon-96x96.png","type":"css","selected":true,"state":"success","load":"lazy"},{"title":"Persian Free Fonts","url":"//cdn.viraweb123.ir/api/v2/cdn/libs/persian-free-fonts@0.1.0/fonts.css","type":"css","load":"lazy","state":"success"},{"title":"PopperJs","url":"https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js","type":"js","load":"before","state":"success"},{"title":"Bootstrap 4 JS","url":"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js","type":"js","load":"before","state":"success"},{"title":"W3 CSS","url":"https://www.w3schools.com/w3css/4/w3.css","type":"css","load":"lazy","state":"success"},{"title":"Google API","url":"https://fonts.googleapis.com/css?family=Raleway","type":"css","load":"lazy","state":"success"}],"class":"w3-light-grey","template":""}