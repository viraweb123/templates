{"type":"div","on":{"init":"$window.scrollTo(0,0);"},"style":{},"version":"wb4","children":[{"style":{},"type":"import","name":"Import","on":{},"version":"wb4","children":[{"type":"div","on":{},"style":{"height":"0px","maxHeight":"0px","minHeight":"0px"},"version":"wb4","children":[{"style":{},"type":"script","name":"script","on":{"init":"// blog settings\nvar brand_title = 'Knowsmore`s Free EBooks';\nvar brand_description = 'Knowsmore is a free ebook repository. You can search and download ebooks freely.';\n\n$window.setMeta('theme:brand_title', brand_title);\n$window.setMeta('theme:brand_description', brand_description);\n"},"version":"wb4","id":"common-metas"},{"style":{},"type":"script","name":"script","on":{"init":"// -==marketing:begin=--\n/*\n * Title: Google Tag Manager\n * Description: This part of the code enalbe external services to monitor customers.\n */\nvar googleTagManagerAccount = 'GTM-WTLD9LB';\n\nif (typeof $window.dataLayer === 'undefined') {\n\t$window.dataLayer = [];\n\t$window.dataLayer.push({\n\t\t'gtm.start': new Date().getTime(),\n\t\tevent: 'gtm.js'\n\t});\n\t$window.loadLibrary('https://www.googletagmanager.com/gtm.js?id=' + googleTagManagerAccount);\n} else {\n\t$window.dataLayer.push({\n\t\t'event': 'pageview'\n\t});\n}\n// -==marketing:end==-"},"version":"wb4","id":"google-tag-manager"},{"style":{},"type":"script","name":"script","on":{"init":"// -==marketing:begin=--\n/*\n * Title: Crisp Chat\n * Description: This part of the code enalbe external services to contact with customers.\n */\nvar crispWebsiteId = '378d9743-5a06-4f2d-8f89-209e6a5fbe07';\n\nwindow.$crisp = [];\nwindow.CRISP_WEBSITE_ID = crispWebsiteId;\n$window.loadLibrary('https://client.crisp.chat/l.js');\n// -==marketing:end==-"},"version":"wb4","id":"crisp"}],"id":"script-libs"}],"url":"/api/v2/cms/contents/scripts/content#script-libs","id":"import-scripts"},{"style":{},"type":"import","name":"Import","on":{},"version":"wb4","children":[],"url":"/api/v2/cms/contents/common-widgets/content#main-toolbar","id":"import-toolbar"},{"type":"div","on":{"init":"\n// Set the URL\nvar url = '/api/v2/sdp/assets';\n\nvar myScope = {\n\tpaginator: null,\n\tparams: null,\n\tcollectionBuilder: null\n};\n\nfunction init() {\n\t// Load Items\n\tmyScope = {\n\t\tcollectionBuilder: null,\n\t\tpaginator: null,\n\t\tparams: null\n\t};\n\tvar searchParams = getParams();\n\tloadItems(searchParams)\n\t\t.then(function() {\n\t\t\tinitPaginator(myScope.paginator);\n\t\t});\n}\n\ninit();\n\nfunction loadItems(params) {\n\treturn $http({\n\t\tmethod: 'GET',\n\t\turl: url,\n\t\tparams: params\n\t}).then(function(result) {\n\t\tvar items = result.data.items;\n\t\tvar dataList = [];\n\t\tvar pos = 1;\n\t\titems.forEach(function(item) {\n\t\t\t// Edit data of product\n\t\t\tvar data = editData(item);\n\t\t\tdata.position = pos++;\n\t\t\tdataList.push(data);\n\t\t});\n\t\tmyScope.paginator = result.data;\n\t\tcreateCollection(dataList);\n\t\treturn result;\n\t});\n}\n\nfunction getParams() {\n\tif (myScope.params == null) { // Initiate params from URL\n\t\tvar params = $window.location.search;\n\t\tparams = new URLSearchParams(params);\n\t\tparams.set('graphql', '{counts,items_per_page,page_number,current_page,items{id,title,description,size,download,price,cover,creation_dtime,modif_dtime,drive{title,driver},metas{key,value},tags{id,name},categories{id,name}}}');\n\t\tif (!params.has('_px_sk')) {\n\t\t\tparams.set('_px_sk', 'id');\n\t\t\tparams.set('_px_so', 'd');\n\t\t}\n\t\tif (!params.has('_px_p')) {\n\t\t\tparams.set('_px_p', 1);\n\t\t}\n\t\tif (!params.has('_px_ps')) {\n\t\t\tparams.set('_px_ps', 32);\n\t\t}\n\t\tvar keys = params.keys();\n\t\tvar paramsJson = {};\n\t\tfor (const key of keys) {\n\t\t\tparamsJson[key] = params.get(key);\n\t\t}\n\t\tmyScope.params = paramsJson;\n\t}\n\treturn myScope.params;\n}\n\n// Edit data\nfunction editData(item) {\n\t// Add metas\n\titem.metamap = {};\n\titem.metas.forEach(function(meta) {\n\t\tvar k = meta.key.replace(/\\./g, '_');\n\t\titem.metamap[k] = meta.value;\n\t});\n\t// Data for microdata\n\titem.creation_dtime_iso = new Date(item.creation_dtime).toISOString();\n\titem.modif_dtime_iso = new Date(item.modif_dtime).toISOString();\n\treturn item;\n}\n\nfunction initPaginator(pag) {\n\tvar params = $location.search();\n\tparams = new URLSearchParams(params);\n\tvar ulPag = $('#ul-paginator');\n\tfor (var i = 1; i <= pag.page_number; i++) {\n\t\tparams.set('_px_p', i);\n\t\tvar link = $location.absUrl();\n\t\tlink = link.indexOf('?') >= 0 ? link.substring(0, link.indexOf('?')) : link;\n\t\tlink = link + '?' + params.toString()\n\t\tvar li = $('<li class=\"page-item\"><a class=\"pagination-btn page-link\" data-index=\"'+i+'\" href=\"' + link + '\">' + i + '</a></li>');\n\t\tif(i == pag.current_page){\n\t\t\tli.addClass('active');\n\t\t}\n\t\tulPag.append(li);\n\t}\n\t$('.pagination-btn').click(paginatorBtnClicked);\n}\n\nfunction createCollection(itemsList) {\n\tvar collectionWidget = $widget.getChildById('books');\n\t// Clear collections\n\tcollectionWidget.removeChildren();\n\tif (myScope.collectionBuilder == null) { // First call, create and init collection builder\n\t\t// Get post item template\n\t\tvar template = $widget.getChildById('section-template')\n\t\t\t.getChildById('article-tmpl').getModel();\n\t\tvar template = angular.copy(template);\n\n\t\t// Create collection builder\n\t\tmyScope.collectionBuilder = new CollectionBuilder();\n\t\tmyScope.collectionBuilder.setTemplate(template)\n\t\t\t.setWidget(collectionWidget);\n\t}\n\tmyScope.collectionBuilder.setItems(itemsList)\n\t\t.build();\n}\n\nfunction paginatorBtnClicked(ev) {\n\tev.preventDefault();\n\tev.stopImmediatePropagation();\n\tev.stopPropagation();\n\n\t$('.page-item').removeClass('active');\n\t$(ev.target).parent().addClass('active');\n\tvar index = $(ev.target).attr('data-index');\n\tif ($widget.state == 'ready') {\n\t\tvar pag = myScope.paginator;\n\t\tif (pag.current_page != index) {\n\t\t\tvar params = getParams();\n\t\t\tparams._px_p = index;\n\t\t\treturn loadItems(params);\n\t\t}\n\t}\n}\n"},"style":{},"version":"wb4","children":[{"style":{},"type":"div","children":[{"style":{"position":"relative"},"type":"h1","on":{},"id":"h1-title","version":"wb4","class":"mx-auto","html":"Free EBooks on Knowsmore Online Library"}],"on":{},"version":"wb4","class":"row text-center py-3","id":"div-title"},{"name":"Pragraph","style":{"padding":"8px"},"type":"h2","on":{},"version":"wb4","html":"Search Books and Download the PDF File of EBooks","class":"text-center"},{"style":{},"type":"section","children":[],"on":{"init":"$widget.on('stateChanged', function(){\n    if($widget.state == 'edit'){\n        $widget.removeChildren();\n    }\n});"},"version":"wb4","class":"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4","id":"books"},{"style":{},"type":"section","children":[{"style":{},"type":"article","children":[{"style":{"width":"200px","height":"322px","maxWidth":"100%","maxHeight":"100%"},"type":"img","alt":"{{title}}","html":"","on":{},"version":"wb4","src":"/imgx{{{cover}}}?w=200&h=322&f=fill&p=center","class":"card-img-top rounded img-thumbnail mx-auto"},{"style":{},"type":"div","name":"div","on":{},"version":"wb4","class":"card-body","children":[{"style":{},"type":"a","html":"<h4>{{title}}</h4>","on":{},"version":"wb4","class":"card-title","href":"/wb/book?id={{id}}"},{"style":{},"type":"p","html":"{{description}}","on":{},"version":"wb4","class":"card-text"}]}],"on":{},"version":"wb4","class":"col card px-0","id":"article-tmpl"}],"on":{"init":"$widget.on('stateChanged', function(){\n    if($widget.state === 'ready'){\n        $widget.setProperty('style.display', 'none');\n    }else{\n        $widget.setProperty('style.display');\n    }\n});"},"version":"wb4","class":"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4","id":"section-template"},{"style":{},"type":"nav","aria-label":"Page navigation example","children":[{"style":{},"type":"ul","class":"pagination justify-content-center flex-wrap mx-auto","children":[],"on":{},"version":"wb4","id":"ul-paginator"}],"on":{},"version":"wb4","id":"nav-paginator","class":"row py-3"}],"modules":[],"class":"container","id":"div-books"},{"style":{},"type":"import","name":"Import","on":{},"version":"wb4","children":[],"url":"/api/v2/cms/contents/common-widgets/content#main-footer","id":"import-footer"}],"modules":[{"title":"Bootstrap 4","url":"//cdn.viraweb123.ir/api/v2/cdn/libs/bootstrap@4.4.1/css/bootstrap.min.css","type":"css","load":"lazy","state":"success"},{"title":"Font Awesome","home":"https://fontawesome.com","version":"4.7.0","description":"The most advanced icon font.","url":"//cdn.viraweb123.ir/api/v2/cdn/libs/Font-Awesome@4.7.0/css/font-awesome.min.css","logo":"https://fontawesome.com/images/favicons/favicon-96x96.png","type":"css","selected":true,"state":"success","load":"lazy"},{"title":"Bootstrap Bundle 4 JS","url":"//cdn.viraweb123.ir/api/v2/cdn/libs/bootstrap@4.4.1/js/bootstrap.bundle.min.js","type":"js","load":"before","state":"success"},{"title":"Google API","url":"https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,700,900","type":"css","load":"lazy","state":"success"},{"title":"JQuery Scrollex","url":"//cdn.viraweb123.ir/api/v2/cdn/libs/jquery.scrollex@0.2.1/jquery.scrollex.min.js","type":"js","load":"before","state":"success"},{"title":"JQuery Scrolly","url":"//cdn.viraweb123.ir/api/v2/cdn/libs/jquery.scrolly@1.0.0-dev/jquery.scrolly.min.js","type":"js","load":"before","state":"success"},{"title":"Collection Builder JS","url":"//cdn.viraweb123.ir/api/v2/cdn/libs/modules@0.2.11/dist/collection-builder.min.js","type":"js","load":"before","state":"success"}],"id":"body"}